<!doctype html><html lang=en><head><title>Connecting to eduroam Wifi on modern Linux distributions | kasesag's personal home page</title><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=author content="kasesag"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/jpg href=/files/av1.png><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/page.css><link rel=stylesheet type=text/css href=/css/syntax.css><meta name=theme-color content="#323d66"><meta name=description content="Guide explaining how to configure eduroam connection on newer Linux systems."></head><body><div id=page><header id=header><div id=header-main><div id=profile-picture><img src=/files/av1.png title="kasesag profile picture" alt="Profile picture of kasesag used as a part of main title."></div><div id=main-title><h1 class=title>kasesag.</h1></div></div><p>ðŸ’¾ don't forget to insert a floppy before booting!</p><nav id=menu><ul><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li></ul></nav></header><main id=content><article><header><h1>Connecting to eduroam Wifi on modern Linux distributions</h1><div class=article-info><time class=timestamp datetime=2023-04-18T12:31:45+02:00>April 18, 2023</time> /
<a href=https://kasesag.me/categories/linux/>linux&nbsp;</a></li></div></header><p>If you&rsquo;re a university student and a Linux user, you already know what&rsquo;s eduroam and have experienced the pain when it came to the configuration. I encountered such a problem under Fedora Linux, and even official python scripts didn&rsquo;t help me at all.</p><p>Since most guides are out-of-date, I decided to write one for people who may encounter the same issue which I had. Here I will be using Fedora 37 (KDE) to demonstrate everything. Instructions given below may also apply to any other distributions which utilise <strong>wpa_supplicant</strong>, <strong>NetworkManager</strong> and <strong>OpenSSL</strong>.</p><h2 id=prerequisites>Prerequisites</h2><p>Firstly, verify that you have administration privileges on your system before using this guide. You should also note that <strong>It is generally not recommended to enable older cryptographic algorithms unless you really need to</strong>. Use the guide reasonably.</p><h2 id=solution-1-fedora-related>Solution 1 (Fedora related)</h2><p>On Fedora, you simply need to execute this command with root privileges:</p><p><code>update-crypto-policies --set DEFAULT:FEDORA32</code></p><p>or If It fails, change &lsquo;DEFAULT:FEDORA32&rsquo; over to &lsquo;LEGACY&rsquo;. You&rsquo;ll then get:</p><p><code>update-crypto-policies --set LEGACY</code></p><p>After successful execution reboot your system.</p><h2 id=solution-2>Solution 2</h2><p>Since the utility <strong>update-crypto-policies</strong> is exclusive to Fedora-based distros, the solution will differ for other Linux distributions using OpenSSL.</p><p>Find and open text file:</p><p><code>/etc/pki/tls/openssl.cnf</code></p><p>Scroll to the line which mentions <em>crypto_policy</em></p><pre tabindex=0><code>[ crypto_policy ]

.include = /etc/crypto-policies/back-ends/opensslcnf.config
</code></pre><p>Under the section <em>crypto_policy</em>, add the following line, which will enable older authentication methods.</p><pre tabindex=0><code>Options = UnsafeLegacyRenegotiation
</code></pre><p>The result should look like this:</p><pre tabindex=0><code>[ crypto_policy ]

Options = UnsafeLegacyRenegotiation
.include = /etc/crypto-policies/back-ends/opensslcnf.config
</code></pre><p>Save the file and reboot your system.</p><h2 id=connection-properties-for-networkmanager>Connection properties for NetworkManager</h2><p>Now after you&rsquo;ve done the policy update, you should be now able to establish the connection with eduroam wifi. This may not be always blindingly obvious, but you need to set some properties when you want to connect with the network.</p><h3 id=properties>Properties</h3><ul><li><strong>Security:</strong> WPA/WPA2 Enterprise</li><li><strong>Authentication:</strong> Protected EAP (PEAP)</li><li><strong>Domain:</strong> (your uni domain, you may also leave this blank)</li></ul><p>Check the box &lsquo;No CA certificate required&rsquo; when It&rsquo;s present (under GNOME).</p><ul><li><strong>PEAP version:</strong> Automatic</li><li><strong>Inner authentication:</strong> MSCHAPv2</li><li><strong>Username:</strong> (provide your uni email address)</li><li><strong>Password:</strong> (provide your password)</li></ul><h2 id=sources>Sources:</h2><ul><li><a href=https://fedoraproject.org/wiki/Changes/StrongCryptoSettings2>https://fedoraproject.org/wiki/Changes/StrongCryptoSettings2</a></li><li><a href=https://discussion.fedoraproject.org/t/cannot-connect-to-wpa2-enterprise-university-wifi-eduroam-on-fedora-36>https://discussion.fedoraproject.org/t/cannot-connect-to-wpa2-enterprise-university-wifi-eduroam-on-fedora-36</a></li></ul></article></main><footer id=footer><p>made with <span role=img aria-label=love>â™¥</span> by kasesag &copy; 2023</p></footer></div></body></html>